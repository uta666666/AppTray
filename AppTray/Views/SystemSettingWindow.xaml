<Window
    x:Class="AppTray.Views.SystemSettingWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:b="clr-namespace:AppTray.Views.Behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:l="http://schemas.livet-mvvm.net/2011/wpf"
    xmlns:local="clr-namespace:AppTray.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:AppTray.ViewModels"
    x:Name="Setting"
    Title="設定"
    Width="339"
    Height="360"
    Icon="/AppTray;component/main.ico"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterOwner"
    WindowStyle="None"
    mc:Ignorable="d">
    <Window.DataContext>
        <vm:SystemSettingViewModel />
    </Window.DataContext>

    <i:Interaction.Triggers>
        <l:InteractionMessageTrigger MessageKey="HotKeySettingWindowMessageKey" Messenger="{Binding Messenger}">
            <l:TransitionInteractionMessageAction Mode="Modal" WindowType="{x:Type local:HotKeySettingWindow}" />
        </l:InteractionMessageTrigger>
    </i:Interaction.Triggers>

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="{x:Static SystemParameters.CaptionHeight}" ResizeBorderThickness="{x:Static SystemParameters.WindowResizeBorderThickness}" />
    </WindowChrome.WindowChrome>

    <i:Interaction.Behaviors>
        <b:CloseWindowAttachedBehavior CanClose="{Binding CanClose.Value}" />
    </i:Interaction.Behaviors>

    <Border BorderBrush="DimGray" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition Height="90" />
                <RowDefinition Height="90" />
                <RowDefinition Height="90" />
                <RowDefinition Height="*" />
                <RowDefinition Height="40" />
            </Grid.RowDefinitions>

            <GroupBox
                Grid.Row="1"
                Margin="10"
                Header="表示位置">
                <CheckBox
                    Grid.Row="1"
                    Margin="20,0,0,0"
                    VerticalAlignment="Center"
                    Content="タスクバー上に表示する"
                    IsChecked="{Binding IsOpenOnTaskBar.Value}" />
            </GroupBox>

            <GroupBox
                Grid.Row="2"
                Margin="10"
                Header="背景の透過度">
                <StackPanel Margin="20,10,10,10" Orientation="Horizontal">
                    <Slider
                        Width="200"
                        Margin="0,0,20,0"
                        VerticalAlignment="Center"
                        IsSnapToTickEnabled="True"
                        LargeChange="0.1"
                        Maximum="1"
                        Minimum="0"
                        SmallChange="0.1"
                        TickFrequency="0.1"
                        TickPlacement="Both"
                        Value="{Binding Opacity.Value}" />
                    <TextBox
                        Width="50"
                        VerticalAlignment="Center"
                        HorizontalContentAlignment="Right"
                        Text="{Binding Opacity.Value}" />
                </StackPanel>
            </GroupBox>

            <GroupBox
                Grid.Row="3"
                Margin="10"
                Header="ホットキー">
                <Button
                    Margin="10,10,150,10"
                    Command="{Binding HotKeyCommand}"
                    Content="ホットキーを設定" />
            </GroupBox>

            <StackPanel
                Grid.Row="5"
                Margin="0,0,10,10"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Orientation="Horizontal">
                <Button
                    x:Name="buttonOK"
                    Width="75"
                    Height="25"
                    Margin="0,0,10,0"
                    Command="{Binding OKCommand}"
                    Content="OK" />
                <Button
                    x:Name="buttonCancel"
                    Width="75"
                    Height="25"
                    Command="{Binding CancelCommand}"
                    Content="キャンセル" />
            </StackPanel>
        </Grid>
    </Border>
</Window>
